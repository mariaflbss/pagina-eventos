<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Calendário com FullCalendar</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.19/index.global.min.css" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <aside>
    <button title="Home"><img src="assets/imgHomepage.png" alt="Home" /></button>
    <button title="Usuários"><img src="assets/imgAddUserMale.png" alt="Usuários" /></button>
    <button title="Calendário"><img src="assets/imgTearOffCalendar.png" alt="Calendário" /></button>
    <button title="Notificações"><img src="assets/imgDoorbell.png" alt="Notificações" /></button>
  </aside>

  <main>
    <div class="top-bar">
      <input type="date" id="datePicker" class="input-date" />
      <button id="btnCriarEvento" class="btn">Criar Evento</button>
      <input type="search" id="searchInput" class="input-search" placeholder="Pesquisar evento" />
    </div>

    <div id="calendar"></div>
  </main>

  <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.19/index.global.min.js'></script>
  <script src="script.js"></script>
  <script>
  // Aguarda o carregamento completo do conteúdo HTML da página
document.addEventListener('DOMContentLoaded', function () {

  // Seleciona o elemento HTML com id 'calendar', onde o calendário será renderizado
  const calendarEl = document.getElementById('calendar');

  // Cria uma nova instância do calendário FullCalendar dentro do elemento selecionado
  const calendar = new FullCalendar.Calendar(calendarEl, {
    // Define a visualização inicial do calendário (mês em grade)
    initialView: 'dayGridMonth',
    // Define o idioma do calendário para português do Brasil
    locale: 'pt-br',
    // Configura a barra superior com botões e título
    headerToolbar: {
      left: 'prev,next today',              // Botões anteriores, próximos e hoje 
      center: 'title',                      
      right: 'dayGridMonth,timeGridWeek,timeGridDay,listWeek', // Botões mês, semana, dia
    },
    // Inicializa o calendário sem eventos (array vazio)
    events: []
  });

  // Renderiza o calendário na tela, exibindo-o no elemento HTML
  calendar.render();

  // Adiciona um evento de clique no botão "Criar Evento"
  document.getElementById('btnCriarEvento').addEventListener('click', () => {
    
    // Seleciona o input de data para pegar o valor escolhido pelo usuário
    const datePicker = document.getElementById('datePicker');
    const selectedDate = datePicker.value;

    // Verifica se o usuário não escolheu nenhuma data
    if (!selectedDate) {
      alert('Por favor, selecione uma data antes de criar um evento.');
      return; // Sai da função para evitar criar evento sem data
    }

    // Adiciona um novo evento no calendário com título fixo, data selecionada e evento de dia inteiro
    calendar.addEvent({
      title: 'Evento criado',
      start: selectedDate,
      allDay: true
    });

    // Limpa o campo de data após criar o evento
    datePicker.value = '';

    // Exibe uma mensagem confirmando que o evento foi criado
    alert('Evento criado para ' + selectedDate);
  });

  // Adiciona um evento para capturar quando o usuário digitar no campo de pesquisa
  document.getElementById('searchInput').addEventListener('input', (e) => {
    // Pega o texto digitado, remove espaços no início/fim e converte para minúsculas
    const termo = e.target.value.trim().toLowerCase();

    // Exibe no console o termo digitado (ainda não faz filtro no calendário)
    console.log('Pesquisar evento:', termo);
  });

});
</script>
</body>
</html>